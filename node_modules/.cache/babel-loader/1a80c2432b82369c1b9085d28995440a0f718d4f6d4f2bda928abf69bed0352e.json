{"ast":null,"code":"// src/MusicPlayer.js\nimport React,{useRef,useState,useEffect}from'react';import YouTube from'react-youtube';import{jsx as _jsx,jsxs as _jsxs}from\"react/jsx-runtime\";const MusicPlayer=_ref=>{let{song}=_ref;const playerRef=useRef(null);const[isPlaying,setIsPlaying]=useState(false);const[currentTime,setCurrentTime]=useState(0);const[duration,setDuration]=useState(0);const opts={height:'0',width:'0',playerVars:{autoplay:0}};const onReady=event=>{playerRef.current=event.target;// Lấy thời lượng của video sau khi sẵn sàng\nsetDuration(event.target.getDuration());};const onStateChange=event=>{// event.data: 1 đang chạy, 2 tạm dừng,...\nif(event.data===1){setIsPlaying(true);}else{setIsPlaying(false);}};// Khi chuyển bài, tải video mới\nuseEffect(()=>{if(playerRef.current){playerRef.current.loadVideoById(song.videoId);setCurrentTime(0);}},[song]);// Cập nhật thời gian phát mỗi giây\nuseEffect(()=>{let interval=null;if(isPlaying){interval=setInterval(()=>{if(playerRef.current){const time=playerRef.current.getCurrentTime();setCurrentTime(time);}},1000);}return()=>clearInterval(interval);},[isPlaying]);const handlePlayPause=()=>{if(!playerRef.current)return;if(isPlaying){playerRef.current.pauseVideo();}else{playerRef.current.playVideo();}};const handleSkip=seconds=>{if(playerRef.current){const newTime=playerRef.current.getCurrentTime()+seconds;playerRef.current.seekTo(newTime,true);setCurrentTime(newTime);}};// Hàm định dạng thời gian mm:ss\nconst formatTime=time=>{const minutes=Math.floor(time/60);const seconds=Math.floor(time%60);return`${minutes<10?'0'+minutes:minutes}:${seconds<10?'0'+seconds:seconds}`;};return/*#__PURE__*/_jsxs(\"div\",{className:\"flex flex-col items-center\",children:[/*#__PURE__*/_jsx(\"div\",{className:`w-64 h-64 rounded-full border-4 border-gray-700 flex items-center justify-center overflow-hidden ${isPlaying?'animate-spin-slow':''}`,children:/*#__PURE__*/_jsx(\"img\",{src:\"https://via.placeholder.com/300\",alt:\"Album Cover\",className:\"w-full h-full object-cover\"})}),/*#__PURE__*/_jsxs(\"div\",{className:\"mt-4 flex space-x-1\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"w-2 bg-green-500 inline-block h-8 animate-wave\"}),/*#__PURE__*/_jsx(\"div\",{className:\"w-2 bg-green-500 inline-block h-10 animate-wave delay-200\"}),/*#__PURE__*/_jsx(\"div\",{className:\"w-2 bg-green-500 inline-block h-6 animate-wave delay-400\"}),/*#__PURE__*/_jsx(\"div\",{className:\"w-2 bg-green-500 inline-block h-12 animate-wave delay-600\"}),/*#__PURE__*/_jsx(\"div\",{className:\"w-2 bg-green-500 inline-block h-7 animate-wave delay-800\"})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"mt-4 flex flex-col items-center\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"mb-2\",children:[formatTime(currentTime),\" / \",formatTime(duration)]}),/*#__PURE__*/_jsxs(\"div\",{className:\"flex items-center space-x-4\",children:[/*#__PURE__*/_jsx(\"button\",{onClick:()=>handleSkip(-10),className:\"px-4 py-2 bg-gray-700 rounded hover:bg-gray-600\",children:\"-10s\"}),/*#__PURE__*/_jsx(\"button\",{onClick:handlePlayPause,className:\"px-4 py-2 bg-gray-700 rounded hover:bg-gray-600\",children:isPlaying?'Pause':'Play'}),/*#__PURE__*/_jsx(\"button\",{onClick:()=>handleSkip(10),className:\"px-4 py-2 bg-gray-700 rounded hover:bg-gray-600\",children:\"+10s\"})]})]}),/*#__PURE__*/_jsx(YouTube,{videoId:song.videoId,opts:opts,onReady:onReady,onStateChange:onStateChange})]});};export default MusicPlayer;","map":{"version":3,"names":["React","useRef","useState","useEffect","YouTube","jsx","_jsx","jsxs","_jsxs","MusicPlayer","_ref","song","playerRef","isPlaying","setIsPlaying","currentTime","setCurrentTime","duration","setDuration","opts","height","width","playerVars","autoplay","onReady","event","current","target","getDuration","onStateChange","data","loadVideoById","videoId","interval","setInterval","time","getCurrentTime","clearInterval","handlePlayPause","pauseVideo","playVideo","handleSkip","seconds","newTime","seekTo","formatTime","minutes","Math","floor","className","children","src","alt","onClick"],"sources":["C:/Users/DELL/Desktop/react-project/src/MusicPlayer.js"],"sourcesContent":["// src/MusicPlayer.js\nimport React, { useRef, useState, useEffect } from 'react';\nimport YouTube from 'react-youtube';\n\nconst MusicPlayer = ({ song }) => {\n  const playerRef = useRef(null);\n  const [isPlaying, setIsPlaying] = useState(false);\n  const [currentTime, setCurrentTime] = useState(0);\n  const [duration, setDuration] = useState(0);\n\n  const opts = {\n    height: '0',\n    width: '0',\n    playerVars: {\n      autoplay: 0,\n    },\n  };\n\n  const onReady = (event) => {\n    playerRef.current = event.target;\n    // Lấy thời lượng của video sau khi sẵn sàng\n    setDuration(event.target.getDuration());\n  };\n\n  const onStateChange = (event) => {\n    // event.data: 1 đang chạy, 2 tạm dừng,...\n    if (event.data === 1) {\n      setIsPlaying(true);\n    } else {\n      setIsPlaying(false);\n    }\n  };\n\n  // Khi chuyển bài, tải video mới\n  useEffect(() => {\n    if (playerRef.current) {\n      playerRef.current.loadVideoById(song.videoId);\n      setCurrentTime(0);\n    }\n  }, [song]);\n\n  // Cập nhật thời gian phát mỗi giây\n  useEffect(() => {\n    let interval = null;\n    if (isPlaying) {\n      interval = setInterval(() => {\n        if (playerRef.current) {\n          const time = playerRef.current.getCurrentTime();\n          setCurrentTime(time);\n        }\n      }, 1000);\n    }\n    return () => clearInterval(interval);\n  }, [isPlaying]);\n\n  const handlePlayPause = () => {\n    if (!playerRef.current) return;\n    if (isPlaying) {\n      playerRef.current.pauseVideo();\n    } else {\n      playerRef.current.playVideo();\n    }\n  };\n\n  const handleSkip = (seconds) => {\n    if (playerRef.current) {\n      const newTime = playerRef.current.getCurrentTime() + seconds;\n      playerRef.current.seekTo(newTime, true);\n      setCurrentTime(newTime);\n    }\n  };\n\n  // Hàm định dạng thời gian mm:ss\n  const formatTime = (time) => {\n    const minutes = Math.floor(time / 60);\n    const seconds = Math.floor(time % 60);\n    return `${minutes < 10 ? '0' + minutes : minutes}:${seconds < 10 ? '0' + seconds : seconds}`;\n  };\n\n  return (\n    <div className=\"flex flex-col items-center\">\n      {/* Đĩa nhạc xoay */}\n      <div className={`w-64 h-64 rounded-full border-4 border-gray-700 flex items-center justify-center overflow-hidden ${isPlaying ? 'animate-spin-slow' : ''}`}>\n        <img src=\"https://via.placeholder.com/300\" alt=\"Album Cover\" className=\"w-full h-full object-cover\" />\n      </div>\n\n      {/* Hiệu ứng sóng nhạc */}\n      <div className=\"mt-4 flex space-x-1\">\n        <div className=\"w-2 bg-green-500 inline-block h-8 animate-wave\" />\n        <div className=\"w-2 bg-green-500 inline-block h-10 animate-wave delay-200\" />\n        <div className=\"w-2 bg-green-500 inline-block h-6 animate-wave delay-400\" />\n        <div className=\"w-2 bg-green-500 inline-block h-12 animate-wave delay-600\" />\n        <div className=\"w-2 bg-green-500 inline-block h-7 animate-wave delay-800\" />\n      </div>\n\n      {/* Hiển thị thời gian và nút điều khiển */}\n      <div className=\"mt-4 flex flex-col items-center\">\n        <div className=\"mb-2\">\n          {formatTime(currentTime)} / {formatTime(duration)}\n        </div>\n        <div className=\"flex items-center space-x-4\">\n          <button\n            onClick={() => handleSkip(-10)}\n            className=\"px-4 py-2 bg-gray-700 rounded hover:bg-gray-600\"\n          >\n            -10s\n          </button>\n          <button\n            onClick={handlePlayPause}\n            className=\"px-4 py-2 bg-gray-700 rounded hover:bg-gray-600\"\n          >\n            {isPlaying ? 'Pause' : 'Play'}\n          </button>\n          <button\n            onClick={() => handleSkip(10)}\n            className=\"px-4 py-2 bg-gray-700 rounded hover:bg-gray-600\"\n          >\n            +10s\n          </button>\n        </div>\n      </div>\n\n      {/* YouTube player (ẩn) */}\n      <YouTube\n        videoId={song.videoId}\n        opts={opts}\n        onReady={onReady}\n        onStateChange={onStateChange}\n      />\n    </div>\n  );\n};\n\nexport default MusicPlayer;\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}